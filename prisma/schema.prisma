// prisma/schema.prisma

generator client {
  provider = "prisma-client-js"
  // We removed the custom 'output' so it defaults to node_modules (Standard)
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// User Model
model User {
  id        Int      @id @default(autoincrement())
  email     String   @unique
  password  String
  name      String?
  role      String   @default("USER") // "ADMIN" or "USER"
  createdAt DateTime @default(now())
  application Application?
}

model Application {
  id        Int      @id @default(autoincrement())
  userId    Int      @unique // One application per user for now
  user      User     @relation(fields: [userId], references: [id])
  
  fullName  String
  campus    String   // University/School name
  major     String   // Jurusan
  semester  String
  cvUrl     String?  // We will store the path to the file here (e.g., "/uploads/cv-fritz.pdf")
  status    String   @default("PENDING") // PENDING, ACCEPTED, REJECTED
  
  createdAt DateTime @default(now())
}